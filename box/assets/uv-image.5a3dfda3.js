var e,i,t,o;import{m as n,a as s,o as a,c as l,w as r,n as c,f as u,d as h,t as d,g as m,q as v,i as f,e as p,a3 as g,r as y,a4 as b,a5 as w,l as S,p as $,b as k}from"./index-2a5fc252.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const _={"uvicon-level":"e68f","uvicon-checkbox-mark":"e659","uvicon-folder":"e694","uvicon-movie":"e67c","uvicon-star-fill":"e61e","uvicon-star":"e618","uvicon-phone-fill":"e6ac","uvicon-phone":"e6ba","uvicon-apple-fill":"e635","uvicon-backspace":"e64d","uvicon-attach":"e640","uvicon-empty-data":"e671","uvicon-empty-address":"e68a","uvicon-empty-favor":"e662","uvicon-empty-car":"e657","uvicon-empty-order":"e66b","uvicon-empty-list":"e672","uvicon-empty-search":"e677","uvicon-empty-permission":"e67d","uvicon-empty-news":"e67e","uvicon-empty-history":"e685","uvicon-empty-coupon":"e69b","uvicon-empty-page":"e60e","uvicon-empty-wifi-off":"e6cc","uvicon-reload":"e627","uvicon-order":"e695","uvicon-server-man":"e601","uvicon-search":"e632","uvicon-more-dot-fill":"e66f","uvicon-scan":"e631","uvicon-map":"e665","uvicon-map-fill":"e6a8","uvicon-tags":"e621","uvicon-tags-fill":"e613","uvicon-eye":"e664","uvicon-eye-fill":"e697","uvicon-eye-off":"e69c","uvicon-eye-off-outline":"e688","uvicon-mic":"e66d","uvicon-mic-off":"e691","uvicon-calendar":"e65c","uvicon-trash":"e623","uvicon-trash-fill":"e6ce","uvicon-play-left":"e6bf","uvicon-play-right":"e6b3","uvicon-minus":"e614","uvicon-plus":"e625","uvicon-info-circle":"e69f","uvicon-info-circle-fill":"e6a7","uvicon-question-circle":"e622","uvicon-question-circle-fill":"e6bc","uvicon-close":"e65a","uvicon-checkmark":"e64a","uvicon-checkmark-circle":"e643","uvicon-checkmark-circle-fill":"e668","uvicon-setting":"e602","uvicon-setting-fill":"e6d0","uvicon-heart":"e6a2","uvicon-heart-fill":"e68b","uvicon-camera":"e642","uvicon-camera-fill":"e650","uvicon-more-circle":"e69e","uvicon-more-circle-fill":"e684","uvicon-chat":"e656","uvicon-chat-fill":"e63f","uvicon-bag":"e647","uvicon-error-circle":"e66e","uvicon-error-circle-fill":"e655","uvicon-close-circle":"e64e","uvicon-close-circle-fill":"e666","uvicon-share":"e629","uvicon-share-fill":"e6bb","uvicon-share-square":"e6c4","uvicon-shopping-cart":"e6cb","uvicon-shopping-cart-fill":"e630","uvicon-bell":"e651","uvicon-bell-fill":"e604","uvicon-list":"e690","uvicon-list-dot":"e6a9","uvicon-zhifubao-circle-fill":"e617","uvicon-weixin-circle-fill":"e6cd","uvicon-weixin-fill":"e620","uvicon-qq-fill":"e608","uvicon-qq-circle-fill":"e6b9","uvicon-moments-circel-fill":"e6c2","uvicon-moments":"e6a0","uvicon-car":"e64f","uvicon-car-fill":"e648","uvicon-warning-fill":"e6c7","uvicon-warning":"e6c1","uvicon-clock-fill":"e64b","uvicon-clock":"e66c","uvicon-edit-pen":"e65d","uvicon-edit-pen-fill":"e679","uvicon-email":"e673","uvicon-email-fill":"e683","uvicon-minus-circle":"e6a5","uvicon-plus-circle":"e603","uvicon-plus-circle-fill":"e611","uvicon-file-text":"e687","uvicon-file-text-fill":"e67f","uvicon-pushpin":"e6d1","uvicon-pushpin-fill":"e6b6","uvicon-grid":"e68c","uvicon-grid-fill":"e698","uvicon-play-circle":"e6af","uvicon-play-circle-fill":"e62a","uvicon-pause-circle-fill":"e60c","uvicon-pause":"e61c","uvicon-pause-circle":"e696","uvicon-gift-fill":"e6b0","uvicon-gift":"e680","uvicon-kefu-ermai":"e660","uvicon-server-fill":"e610","uvicon-coupon-fill":"e64c","uvicon-coupon":"e65f","uvicon-integral":"e693","uvicon-integral-fill":"e6b1","uvicon-home-fill":"e68e","uvicon-home":"e67b","uvicon-account":"e63a","uvicon-account-fill":"e653","uvicon-thumb-down-fill":"e628","uvicon-thumb-down":"e60a","uvicon-thumb-up":"e612","uvicon-thumb-up-fill":"e62c","uvicon-lock-fill":"e6a6","uvicon-lock-open":"e68d","uvicon-lock-opened-fill":"e6a1","uvicon-lock":"e69d","uvicon-red-packet":"e6c3","uvicon-photo-fill":"e6b4","uvicon-photo":"e60d","uvicon-volume-off-fill":"e6c8","uvicon-volume-off":"e6bd","uvicon-volume-fill":"e624","uvicon-volume":"e605","uvicon-download":"e670","uvicon-arrow-up-fill":"e636","uvicon-arrow-down-fill":"e638","uvicon-play-left-fill":"e6ae","uvicon-play-right-fill":"e6ad","uvicon-arrow-downward":"e634","uvicon-arrow-leftward":"e63b","uvicon-arrow-rightward":"e644","uvicon-arrow-upward":"e641","uvicon-arrow-down":"e63e","uvicon-arrow-right":"e63c","uvicon-arrow-left":"e646","uvicon-arrow-up":"e633","uvicon-skip-back-left":"e6c5","uvicon-skip-forward-right":"e61f","uvicon-arrow-left-double":"e637","uvicon-man":"e675","uvicon-woman":"e626","uvicon-en":"e6b8","uvicon-twitte":"e607","uvicon-twitter-circle-fill":"e6cf"};const C=x({name:"uv-icon",emits:["click"],mixins:[n,s,{props:{name:{type:String,default:""},color:{type:String,default:"#606266"},size:{type:[String,Number],default:"16px"},bold:{type:Boolean,default:!1},index:{type:[String,Number],default:null},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uvicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"15px"},labelColor:{type:String,default:"#606266"},space:{type:[String,Number],default:"3px"},imgMode:{type:String,default:"aspectFit"},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},stop:{type:Boolean,default:!1},...null==(i=null==(e=uni.$uv)?void 0:e.props)?void 0:i.icon}}],data:()=>({colorType:["primary","success","info","error","warning"]}),computed:{uClasses(){let e=[];return e.push(this.customPrefix),e.push(this.customPrefix+"-"+this.name),this.color&&this.colorType.includes(this.color)&&e.push("uv-icon__icon--"+this.color),e},iconStyle(){let e={};return e={fontSize:this.$uv.addUnit(this.size),lineHeight:this.$uv.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$uv.addUnit(this.top)},this.color&&!this.colorType.includes(this.color)&&(e.color=this.color),e},isImg(){const e=this.name.indexOf("data:")>-1&&this.name.indexOf("base64")>-1;return-1!==this.name.indexOf("/")||e},imgStyle(){let e={};return e.width=this.width?this.$uv.addUnit(this.width):this.$uv.addUnit(this.size),e.height=this.height?this.$uv.addUnit(this.height):this.$uv.addUnit(this.size),e},icon(){const e=_["uvicon-"+this.name];return e?unescape(`%u${e}`):["uvicon"].indexOf(this.customPrefix)>-1?this.name:""}},methods:{clickHandler(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}},[["render",function(e,i,t,o,n,s){const g=v,y=f,b=p;return a(),l(b,{class:u(["uv-icon",["uv-icon--"+e.labelPos]]),onClick:s.clickHandler},{default:r(()=>[s.isImg?(a(),l(g,{key:0,class:"uv-icon__img",src:e.name,mode:e.imgMode,style:c([s.imgStyle,e.$uv.addStyle(e.customStyle)])},null,8,["src","mode","style"])):(a(),l(y,{key:1,class:u(["uv-icon__icon",s.uClasses]),style:c([s.iconStyle,e.$uv.addStyle(e.customStyle)]),"hover-class":e.hoverClass},{default:r(()=>[h(d(s.icon),1)]),_:1},8,["class","style","hover-class"])),""!==e.label?(a(),l(y,{key:2,class:"uv-icon__label",style:c({color:e.labelColor,fontSize:e.$uv.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$uv.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$uv.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$uv.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$uv.addUnit(e.space):0})},{default:r(()=>[h(d(e.label),1)]),_:1},8,["style"])):m("",!0)]),_:1},8,["onClick","class"])}],["__scopeId","data-v-553bbf60"]]);class z{constructor(e,i){this.options=e,this.animation=g({...e}),this.currentStepAnimates={},this.next=0,this.$=i}_nvuePushAnimates(e,i){let t=this.currentStepAnimates[this.next],o={};if(o=t||{styles:{},config:{}},L.includes(e)){o.styles.transform||(o.styles.transform="");let t="";"rotate"===e&&(t="deg"),o.styles.transform+=`${e}(${i+t}) `}else o.styles[e]=`${i}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},i={}){let t=this.$.$refs.ani.ref;if(t)return new Promise((o,n)=>{nvueAnimation.transition(t,{styles:e,...i},e=>{o()})})}_nvueNextAnimate(e,i=0,t){let o=e[i];if(o){let{styles:n,config:s}=o;this._animateRun(n,s).then(()=>{i+=1,this._nvueNextAnimate(e,i,t)})}else this.currentStepAnimates={},"function"==typeof t&&t(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout(()=>{"function"==typeof e&&e()},this.$.durationTime)}}const L=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function U(e,i){if(i)return clearTimeout(i.timer),new z(e,i)}L.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach(e=>{z.prototype[e]=function(...i){return this.animation[e](...i),this}});const T=x({name:"uv-transition",mixins:[n,s],emits:["click","change"],props:{show:{type:Boolean,default:!1},mode:{type:[Array,String,null],default:()=>"fade"},duration:{type:[String,Number],default:300},timingFunction:{type:String,default:"ease-out"},customClass:{type:String,default:""},cellChild:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{transformStyles(){const e={transform:this.transform,opacity:this.opacity,...this.$uv.addStyle(this.customStyle),"transition-duration":this.duration/1e3+"s"};return this.$uv.addStyle(e,"string")}},created(){this.config={duration:this.duration,timingFunction:this.timingFunction,transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=U(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,i={}){if(this.animation){for(let i in e)try{"object"==typeof e[i]?this.animation[i](...e[i]):this.animation[i](e[i])}catch(t){console.error(`方法 ${i} 不存在`)}return this.animation.step(i),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:i}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=i,this.$nextTick(()=>{this.timer=setTimeout(()=>{this.animation=U(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.opacity=1,this.$emit("change",{detail:this.isShow}),this.transform=""},20)})},close(e){this.animation&&this.tranfromInit(!0).step().run(()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:i}=this.styleInit(!1);this.opacity=e||1,this.transform=i,this.$emit("change",{detail:this.isShow})})},styleInit(e){let i={transform:""},t=(e,t)=>{"fade"===t?i.opacity=this.animationType(e)[t]:i.transform+=this.animationType(e)[t]+" "};return"string"==typeof this.mode?t(e,this.mode):this.mode.forEach(i=>{t(e,i)}),i},tranfromInit(e){let i=(e,i)=>{let t=null;"fade"===i?t=e?0:1:(t=e?"-100%":"0","zoom-in"===i&&(t=e?.8:1),"zoom-out"===i&&(t=e?1.2:1),"slide-right"===i&&(t=e?"100%":"0"),"slide-bottom"===i&&(t=e?"100%":"0")),this.animation[this.animationMode()[i]](t)};return"string"==typeof this.mode?i(e,this.mode):this.mode.forEach(t=>{i(e,t)}),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(e,i,t,o,n,s){const h=p;return n.isShow?(a(),l(h,{key:0,ref:"ani",animation:n.animationData,class:u(t.customClass),style:c(s.transformStyles),onClick:s.onClick},{default:r(()=>[y(e.$slots,"default")]),_:3},8,["animation","class","style","onClick"])):m("",!0)}]]);const N=x({name:"uv-image",emits:["click","load","error"],mixins:[n,s,{props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"300"},height:{type:[String,Number],default:"225"},shape:{type:String,default:"square"},radius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},observeLazyLoad:{type:Boolean,default:!1},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"},cellChild:{type:Boolean,default:!1},...null==(o=null==(t=uni.$uv)?void 0:t.props)?void 0:o.image}}],data(){return{isError:!1,loading:!0,backgroundStyle:{},show:!1,observeShow:!this.observeLazyLoad,elIndex:"",imgWidth:this.width,imgHeight:this.height,thresholdValue:50}},watch:{src:{immediate:!0,handler(e){e?(this.isError=!1,this.loading=!0):this.isError=!0}},width(e){this.show=!1,this.$uv.sleep(2).then(e=>{this.show=!0}),this.imgWidth=e},height(e){this.show=!1,this.$uv.sleep(2).then(e=>{this.show=!0}),this.imgHeight=e}},computed:{wrapStyle(){let e={};return"heightFix"!==this.mode&&(e.width=this.$uv.addUnit(this.imgWidth)),"widthFix"!==this.mode&&(e.height=this.$uv.addUnit(this.imgHeight)),e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e.overflow=this.radius>0?"hidden":"visible",this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},imageStyle(){let e={};return e.borderRadius="circle"==this.shape?"10000px":this.$uv.addUnit(this.radius),e}},created(){this.elIndex=this.$uv.guid(),this.observer={},this.observerName="lazyLoadContentObserver"},mounted(){this.show=!0,this.$nextTick(()=>{this.observeLazyLoad&&this.observerFn()})},methods:{onClick(){this.$emit("click")},onErrorHandler(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler(e){"widthFix"==this.mode&&(this.imgHeight="auto"),"heightFix"==this.mode&&(this.imgWidth="auto"),this.loading=!1,this.isError=!1,this.$emit("load",e),this.removeBgColor()},removeBgColor(){this.backgroundStyle={backgroundColor:"transparent"}},observerFn(){this.$nextTick(()=>{b("onLazyLoadReachBottom",()=>{this.observeShow||(this.observeShow=!0)})}),setTimeout(()=>{this.disconnectObserver(this.observerName);const e=w(this);e.relativeToViewport({bottom:this.thresholdValue}).observe(`.uv-image--${this.elIndex}`,e=>{e.intersectionRatio>0&&(this.observeShow=!0,this.disconnectObserver(this.observerName))}),this[this.observerName]=e},50)},disconnectObserver(e){const i=this[e];i&&i.disconnect()}}},[["render",function(e,i,t,o,n,s){const h=v,d=S($("uv-icon"),C),f=p,g=S($("uv-transition"),T);return n.show?(a(),l(g,{key:0,show:n.show,mode:"fade",duration:e.fade?e.duration:0,"cell-child":e.cellChild,"custom-style":s.wrapStyle},{default:r(()=>[k(f,{class:u(["uv-image",[`uv-image--${n.elIndex}`]]),onClick:s.onClick,style:c([s.wrapStyle,n.backgroundStyle])},{default:r(()=>[!n.isError&&n.observeShow?(a(),l(h,{key:0,src:e.src,mode:e.mode,onError:s.onErrorHandler,onLoad:s.onLoadHandler,"show-menu-by-longpress":e.showMenuByLongpress,"lazy-load":e.lazyLoad,class:"uv-image__image",style:c([s.imageStyle]),webp:e.webp},null,8,["src","mode","onError","onLoad","show-menu-by-longpress","lazy-load","style","webp"])):m("",!0),e.showLoading&&n.loading?(a(),l(f,{key:1,class:"uv-image__loading",style:c({borderRadius:"circle"==e.shape?"50%":e.$uv.addUnit(e.radius),backgroundColor:e.bgColor,width:e.$uv.addUnit(e.width),height:e.$uv.addUnit(e.height)})},{default:r(()=>[y(e.$slots,"loading",{},()=>[k(d,{name:e.loadingIcon,width:e.width,height:e.height},null,8,["name","width","height"])],!0)]),_:3},8,["style"])):m("",!0),e.showError&&n.isError&&!n.loading?(a(),l(f,{key:2,class:"uv-image__error",style:c({borderRadius:"circle"==e.shape?"50%":e.$uv.addUnit(e.radius),width:e.$uv.addUnit(e.width),height:e.$uv.addUnit(e.height)})},{default:r(()=>[y(e.$slots,"error",{},()=>[k(d,{name:e.errorIcon,width:e.width,height:e.height},null,8,["name","width","height"])],!0)]),_:3},8,["style"])):m("",!0)]),_:3},8,["class","onClick","style"])]),_:3},8,["show","duration","cell-child","custom-style"])):m("",!0)}],["__scopeId","data-v-f788feaf"]]);export{N as _,C as a};
