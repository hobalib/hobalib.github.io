var e,t,o,a,i,r;import{m as n,a as l,o as s,c as d,n as u,e as c,l as m,p as f,w as g,g as p,b as h,f as y,d as x,t as S,i as v,r as _,q as b,M as w,N as C,O as z,P as k,x as $,y as T,Q as L,R as M,D as N,A as R,h as I,F as B,j,T as U,U as O,V as P,C as D,W as F,G as H,B as W}from"./index-2a5fc252.js";import{a as q,_ as A}from"./uv-image.5a3dfda3.js";import{_ as E,a as J}from"./uv-button.a89d7810.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Y,a as G}from"./uv-tabbar.6c228b2c.js";import{u as Q,d as X,a as K,e as Z}from"./app.ec4b7cd2.js";const ee=V({name:"uv-line",mixins:[n,l,{props:{color:{type:String,default:"#d6d7d9"},length:{type:[String,Number],default:"100%"},direction:{type:String,default:"row"},hairline:{type:Boolean,default:!0},margin:{type:[String,Number],default:0},dashed:{type:Boolean,default:!1},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.line}}],computed:{lineStyle(){const e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=this.$uv.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))}}},[["render",function(e,t,o,a,i,r){const n=c;return s(),d(n,{class:"uv-line",style:u([r.lineStyle])},null,8,["style"])}],["__scopeId","data-v-c767f31f"]]);const te=V({name:"uv-loadmore",mixins:[n,l,{props:{status:{type:String,default:"loadmore"},bgColor:{type:String,default:"transparent"},icon:{type:Boolean,default:!0},fontSize:{type:[String,Number],default:14},iconSize:{type:[String,Number],default:16},color:{type:String,default:"#606266"},loadingIcon:{type:String,default:"spinner"},loadmoreText:{type:String,default:"加载更多"},loadingText:{type:String,default:"正在加载..."},nomoreText:{type:String,default:"没有更多了"},isDot:{type:Boolean,default:!1},iconColor:{type:String,default:"#b7b7b7"},marginTop:{type:[String,Number],default:10},marginBottom:{type:[String,Number],default:10},height:{type:[String,Number],default:"auto"},line:{type:Boolean,default:!1},lineColor:{type:String,default:"#E6E8EB"},dashed:{type:Boolean,default:!1},...null==(a=null==(o=uni.$uv)?void 0:o.props)?void 0:a.loadmore}}],data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),lineHeight:this.$uv.addUnit(this.fontSize),backgroundColor:this.bgColor}},showText(){let e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},methods:{loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(e,t,o,a,i,r){const n=m(f("uv-line"),ee),l=m(f("uv-loading-icon"),E),_=c,b=v;return s(),d(_,{class:"uv-loadmore",style:u([{backgroundColor:e.bgColor,marginBottom:e.$uv.addUnit(e.marginBottom),marginTop:e.$uv.addUnit(e.marginTop),height:e.$uv.addUnit(e.height)},e.$uv.addStyle(e.customStyle)])},{default:g(()=>[e.line?(s(),d(n,{key:0,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):p("",!0),h(_,{class:y(["loadmore"==e.status||"nomore"==e.status?"uv-more":"","uv-loadmore__content"])},{default:g(()=>["loading"===e.status&&e.icon?(s(),d(_,{key:0,class:"uv-loadmore__content__icon-wrap"},{default:g(()=>[h(l,{color:e.iconColor,size:e.iconSize,mode:e.loadingIcon},null,8,["color","size","mode"])]),_:1})):p("",!0),h(b,{class:y(["uv-line-1",["nomore"==e.status&&1==e.isDot?"uv-loadmore__content__dot-text":"uv-loadmore__content__text"]]),style:u([r.loadTextStyle]),onClick:r.loadMore},{default:g(()=>[x(S(r.showText),1)]),_:1},8,["style","class","onClick"])]),_:1},8,["class"]),e.line?(s(),d(n,{key:1,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):p("",!0)]),_:1},8,["style"])}],["__scopeId","data-v-53282763"]]);const oe=V({name:"uv-empty",mixins:[n,l,{props:{icon:{type:String,default:""},text:{type:String,default:""},textColor:{type:String,default:"#c0c4cc"},textSize:{type:[String,Number],default:14},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:90},mode:{type:String,default:"data"},width:{type:[String,Number],default:160},height:{type:[String,Number],default:160},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},...null==(r=null==(i=uni.$uv)?void 0:i.props)?void 0:r.empty}}],data:()=>({icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址","wifi-off":"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空",comment:"暂无评论"}}),computed:{emptyStyle(){const e={};return e.marginTop=this.$uv.addUnit(this.marginTop),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},textStyle(){const e={};return e.color=this.textColor,e.fontSize=this.$uv.addUnit(this.textSize),e},isImg(){const e=this.icon.indexOf("data:")>-1&&this.icon.indexOf("base64")>-1;return-1!==this.icon.indexOf("/")||e}}},[["render",function(e,t,o,a,i,r){const n=m(f("uv-icon"),q),l=b,y=v,w=c;return e.show?(s(),d(w,{key:0,class:"uv-empty",style:u([r.emptyStyle])},{default:g(()=>[r.isImg?(s(),d(l,{key:1,style:u({width:e.$uv.addUnit(e.width),height:e.$uv.addUnit(e.height)}),src:e.icon,mode:"widthFix"},null,8,["style","src"])):(s(),d(n,{key:0,name:"message"===e.mode?"chat":`empty-${e.mode}`,size:e.iconSize,color:e.iconColor,"margin-top":"14"},null,8,["name","size","color"])),h(y,{class:"uv-empty__text",style:u([r.textStyle])},{default:g(()=>[x(S(e.text?e.text:i.icons[e.mode]),1)]),_:1},8,["style"]),h(w,{class:"uv-empty__wrap"},{default:g(()=>[_(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["style"])):p("",!0)}],["__scopeId","data-v-d585060f"]]);function ae(e){const t=function(e,t){for(const o in e)Object.getOwnPropertyDescriptor(t,o)||"loadMoreState"===o&&e[o].status||(t[o]=e[o]);return t}({isOpenRefresh:!0,triggered:!1,freshing:!1,isDropDown:!1,createdIsNeed:!0,isPage:!0,queryForm:{},dataList:[],pagination:{current:1,size:20,total:0},loadMoreState:{status:"loadmore",loadingText:"加载中...",loadmoreText:"加载更多",nomoreText:"全部加载完成!"},props:{item:"rows",totalCount:"total"}},e),o=async()=>{var e,o,a,i,r;if(t.pageList)try{const i=await t.pageList({...t.queryForm,pageNum:null==(e=t.pagination)?void 0:e.current,pageSize:null==(o=t.pagination)?void 0:o.size}),r=(t.isPage?i[t.props.item]:i.data)||[],n=t.isPage?i[t.props.totalCount]:0;if(t.freshing||1===(null==(a=t.pagination)?void 0:a.current))t.loadMoreState.loadmoreText="",t.dataList=r;else{let e=JSON.parse(JSON.stringify(t.dataList));t.dataList=e.concat(r)}t.pagination.total=n}catch(n){r=n.msg||(null==(i=null==n?void 0:n.data)?void 0:i.msg)||"数据加载失败",w({title:r,icon:"error"})}finally{t.pagination.total<t.pagination.size?t.loadMoreState.status="nomore":t.loadMoreState.status="loadmore",t.triggered=!1,t.freshing=!1,k()}};return z(()=>{t.createdIsNeed&&o()}),{onPulling:function(e){console.log("onpulling",e),e.detail.deltaY<0||(t.triggered=!0)},onRefresh:function(){var e;t.freshing||(t.freshing=!0,t.pagination.current=1,C({title:"数据加载中...",mask:e}),o())},onRestore:function(){t.triggered="restore",k(),console.log("onRestore")},onAbort:function(){console.log("onAbort")},scrolltolower:function(){var e,a;if("loading"==(null==(e=t.loadMoreState)?void 0:e.status))return;let i=t.pagination.current+1;t.pagination.current*t.pagination.size>=t.pagination.total?null==(a=t.loadMoreState)||a.status:(console.log("到底了"),t.pagination.current=i,t.loadMoreState.status="loading",o())},getDataList:function(){t.pagination.current=1,t.pagination.total=0,o()}}}const ie=V($({__name:"index",setup(e){const t={width:"200rpx",height:"48rpx",lineHeight:"48rpx",padding:"0",margin:"0",background:"transparent",letterSpacing:"4rpx",borderRadius:"24rpx",fontSize:"20rpx"},o=Q();T(1);const a=L(()=>{var e;return 0==(null==(e=i.dataList)?void 0:e.length)}),i=M({queryForm:{openId:o.openId},createdIsNeed:!1,isOpenRefresh:!1,isPage:!1,loadMoreState:{},pageList:X}),{onPulling:r,onAbort:n,onRefresh:l,onRestore:p,scrolltolower:y,getDataList:v}=ae(i);function _(e){return e&&e.length>0?e[0]:""}const b=T();function w(e){e&&window.open(`https://www.hobalab.com/projects/perlin/video_test/abc2.html?url=${e}`,"_blank")}function C(){P({url:"/pages/promotionPage/index"})}return z(()=>{v(),b.value=setInterval(()=>{v()},5e3)}),N(()=>{b.value&&clearInterval(b.value)}),(e,b)=>{const z=c,k=m(f("uv-icon"),q),$=m(f("uv-image"),A),T=m(f("uv-button"),J),L=m(f("uv-load-more"),te),M=m(f("uv-empty"),oe),N=D,P=m(f("uv-tabbar-item"),Y),E=m(f("uv-tabbar"),G);return s(),d(z,{class:"game-list-container"},{default:g(()=>[h(z,{class:"glc-wapper"},{default:g(()=>[h(z,{class:"itcode-flex-row itcode-items-center glc-header"},{default:g(()=>[h(z,{class:"desc-title"},{default:g(()=>[h(z,null,{default:g(()=>[x(S(e.$t("gameList.congratulations")),1)]),_:1}),h(z,{class:"fs-text"},{default:g(()=>[x(S(e.$t("gameList.thanksExperience")),1)]),_:1})]),_:1})]),_:1}),h(z,{class:"glc-body"},{default:g(()=>[h(z,{class:"glc-body-wapper"},{default:g(()=>[h(z,{class:"content"},{default:g(()=>[h(z,{class:"itcode-flex-row itcode-items-center h-title"},{default:g(()=>[x(S(e.$t("gameList.myWorks")),1)]),_:1}),h(N,{class:"scroll-content","scroll-y":!0,"refresher-enabled":R(i).isOpenRefresh,"refresher-triggered":R(i).triggered,"refresher-background":"#f5f5f5",onRefresherpulling:R(r),onRefresherrefresh:R(l),onRefresherrestore:R(p),onRefresherabort:R(n),onScrolltolower:R(y)},{default:g(()=>[R(a)?(s(),d(z,{key:1,class:"empty-box"},{default:g(()=>[U(h(M,{mode:"data",text:"暂无数据"},null,512),[[O,R(a)]])]),_:1})):(s(),I(B,{key:0},[(s(!0),I(B,null,j(R(i).dataList,(a,i)=>(s(),d(z,{class:"works-items",key:i},{default:g(()=>[h(z,{class:"delete-icon",onClick:e=>{return t=a.id,void H({title:W("gameList.deleteConfirmTitle"),content:W("gameList.deleteConfirmContent"),confirmText:W("gameList.deleteConfirmButton"),confirmColor:o.themeColor,showCancel:!0,success:async function(e){e.confirm&&(await Z(o.openId,t),v())}});var t}},{default:g(()=>[h(k,{name:"trash",size:26,color:"red"})]),_:2},1032,["onClick"]),a.url?(s(),d($,{key:0,src:_(a.img_list),width:"100%",height:"360rpx",bgColor:"#cccccc",radius:"16rpx",customStyle:{border:"1px solid rgba(255, 255, 255, 0.35)",boxSizing:"border-box"}},null,8,["src","customStyle"])):(s(),d(z,{key:1,class:"itcode-flex-row itcode-items-center itcode-justify-center not-generated",style:u({backgroundImage:`url(${_(a.img_list)})`,backgroundSize:"100% 100%"})},{default:g(()=>[h(z,{class:"itcode-flex-col itcode-items-center itcode-justify-center text"},{default:g(()=>[h(z,null,{default:g(()=>[x(S(e.$t("gameList.uploadingMessage1")),1)]),_:1}),h(z,null,{default:g(()=>[x(S(e.$t("gameList.uploadingMessage2")),1)]),_:1})]),_:1})]),_:2},1032,["style"])),h(z,{class:"itcode-flex-col itcode-justify-center opt-area"},{default:g(()=>[h(z,{class:"_name"},{default:g(()=>[x(S(a.name),1)]),_:2},1024),h(z,{class:"itcode-flex-row button-area"},{default:g(()=>[h(T,{type:"primary",text:"分享",size:"mini",onClick:e=>w(a.url),disabled:!a.url,customStyle:{...t,borderColor:a.url?"":"#999999"}},{default:g(()=>[h(z,{class:"itcode-flex-row itcode-items-center",style:{height:"100%"}},{default:g(()=>[h(k,{name:"fenxiang","custom-prefix":"custom-icon",size:19,color:"#ffffff"}),h(z,{style:u({fontSize:t.fontSize,lineHeight:1})},{default:g(()=>[x(S(e.$t("gameList.share")),1)]),_:1},8,["style"])]),_:1})]),_:2},1032,["onClick","disabled","customStyle"]),h(T,{type:"primary",text:"下载视频",size:"mini",onClick:e=>w(a.url),disabled:!a.url,customStyle:{...t,borderColor:a.url?"":"#999999"}},{default:g(()=>[h(z,{class:"itcode-flex-row itcode-items-center",style:{height:"100%"}},{default:g(()=>[h(k,{name:"shipin","custom-prefix":"custom-icon",size:19,color:"#ffffff"}),h(z,{style:u({fontSize:t.fontSize,lineHeight:1})},{default:g(()=>[x(S(e.$t("gameList.downloadVideo")),1)]),_:1},8,["style"])]),_:1})]),_:2},1032,["onClick","disabled","customStyle"]),h(T,{type:"primary",text:"精彩图片",size:"mini",onClick:e=>function(e){const t=e.img_list||[];t.push(`https://aifsh.hobalab.com/box/additional/${e.id}.png`),0!=t.length?F({urls:t,showmenu:!0,loop:!0}):K().info("暂无数据！")}(a),customStyle:t},{default:g(()=>[h(z,{class:"itcode-flex-row itcode-items-center",style:{height:"100%"}},{default:g(()=>[h(k,{name:"tupian","custom-prefix":"custom-icon",size:18,color:"#ffffff"}),h(z,{style:u({fontSize:t.fontSize,lineHeight:1})},{default:g(()=>[x(S(e.$t("gameList.wonderfulPictures")),1)]),_:1},8,["style"])]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),h(L,{status:R(i).loadMoreState.status,"loading-text":R(i).loadMoreState.loadingText,"loadmore-text":R(i).loadMoreState.loadmoreText,"nomore-text":R(i).loadMoreState.nomoreText,marginTop:0},null,8,["status","loading-text","loadmore-text","nomore-text"])],64))]),_:1},8,["refresher-enabled","refresher-triggered","onRefresherpulling","onRefresherrefresh","onRefresherrestore","onRefresherabort","onScrolltolower"])]),_:1})]),_:1})]),_:1})]),_:1}),h(E,{value:1,activeColor:R(o).themeColor,customStyle:{background:"#121212",border:"none"}},{default:g(()=>[h(P,{onClick:C},{"active-icon":g(()=>[h(k,{name:"shouye","custom-prefix":"custom-icon",size:30,color:R(o).themeColor},null,8,["color"])]),"inactive-icon":g(()=>[h(k,{name:"shouye","custom-prefix":"custom-icon",size:30,color:"#7d7e80"})]),_:1}),h(P,null,{"active-icon":g(()=>[h(k,{name:"wode","custom-prefix":"custom-icon",size:25,color:R(o).themeColor},null,8,["color"])]),"inactive-icon":g(()=>[h(k,{name:"wode","custom-prefix":"custom-icon",size:25,color:"#7d7e80"})]),_:1})]),_:1},8,["activeColor"])]),_:1})}}}),[["__scopeId","data-v-600ac7df"]]);export{ie as default};
